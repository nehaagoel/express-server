# How a REQUEST get served

#### Introduction
HTTP is a protocol which allows the fetching of resources, such as HTML documents. It is the foundation of any data exchange on the Web and it is a client-server protocol, which means requests are initiated by the recipient, usually the Web browser. 

#### Components of HTTP-based systems: 

**1. Client: the user-agent**
The user-agent is any tool that acts on the behalf of the user. This role is primarily performed by the Web browser. The browser is always the entity initiating the request.

**2.The Web server**
On the opposite side of the communication channel, is the server, which serves the document as requested by the client. A server appears as only a single machine virtually: this is because it may actually be a collection of servers, sharing the load (load balancing) or a complex piece of software interrogating other computers (like cache, a DB server, or e-commerce servers), totally or partially generating the document on demand.

**3.Proxies**
Between the Web browser and the server, numerous computers and machines relay the HTTP messages. Due to the layered structure of the Web stack, most of these operate at the transport, network or physical levels, becoming transparent at the HTTP layer and potentially making a significant impact on performance. Those operating at the application layers are generally called proxies. Proxies may perform numerous functions:

* load balancing (to allow multiple servers to serve the different requests)
* authentication (to control access to different resources)
* logging (allowing the storage of historical information)

## Request-handling Process
When the server first starts up it performs some initialization and then waits for an HTTP request from a client (such as a browser). When it receives a request, it first selects a virtual server. 
After the virtual server is selected, the obj.conf file for the virtual server class specifies how the request is handled in the following steps:

#### ProcedureTo handle request
1. **AuthTrans (authorization translation):** Verify any authorization information (such as name and password) sent in the request.
1. **NameTrans (name translation):** Translate the logical URI into a local file system path.
1. **PathCheck (path checking):** Check the local file system path for validity and check that the requestor has access privileges to the requested resource on the file system.
1. **ObjectType (object typing):** Determine the MIME-type (Multi-purpose Internet Mail Encoding) of the requested resource (for example, text/html, image/gif, and so on).
1. **Input (prepare to read input):** Select filters that will process incoming request data read by the Service step.
1. **Output (prepare to send output):** Select filters that will process outgoing response data generated by the Service step.
1. **Service (generate the response):** Generate and return the response to the client.
1. **AddLog (adding log entries):** Add entries to log file(s).
1. **Error (service):** This step is executed only if an error occurs in the previous steps. If an error occurs, the server logs an error message and aborts the process.
